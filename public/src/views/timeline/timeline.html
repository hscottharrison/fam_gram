<nav-dir></nav-dir>
<ui-view></ui-view>
<div class='row post-wrapper'>
  <div class='post z-depth-3' ng-repeat='post in posts | filter:branch_selected | orderBy: "-post_id"'>
    <div class='username'>
      <div class='small-prof-pic' style='background: url({{post.profile_pic}}) no-repeat center center; background-size: cover; margin-right: 5px;)'>

      </div>
      <!-- <img class='small-prof-pic' ng-src='{{post.profile_pic}}' /> -->
      <h6>{{post.branch_name}}/{{post.username}}</h6>
    </div>
    <div class='image-wrapper' style='background: url("{{post.post_url}}") center center; background-size: cover;'>
      <!-- <img class='timeline-image' ng-src='{{post.post_url}}' /> -->
    </div>
    <div class='post-content'>
      <i class="small material-icons grey-text text-darken-1" ng-click='updateLikes(post.like_count, post.post_id)'>thumb_up</i><br />
      {{post.like_count}} likes
      <p class='caption'>
        {{post.caption}}
      </p>
      <div ng-repeat='comment in post.comments'>
        <span class='comment-user'> {{comment.username}} </span> <span class='comment-content'>{{comment.comment_text}}</span>
      </div>
    </div>
    <div class='comment-input'>
      <input placeholder='Add Comment' type='text' ng-model='commentText'></input>
      <a ng-click='addComment(commentText, post.post_id)' class="waves-effect waves-light btn blue-grey">Add Comment</a>
    </div>
  </div>

    <a tooltipped data-position='top' data-delay='50' data-tooltip='Create a new post!' ui-sref='post({id: {{paramsId}}})' class="btn-floating btn-large waves-effect waves-light blue-grey fixed-button"><i class="material-icons">add</i></a>
    <!-- <div input-field class='select-branch'> -->
      <select class='select-branch' ng-model="branch_selected" id='branch' type='branch' class='validate' material-select watch>
        <option ng-repeat="branch in branches">{{branch.branch_name}}</option>
      </select>
      <label for='branch'>Search by Branch</label>
    <!-- </div> -->


  </div>
